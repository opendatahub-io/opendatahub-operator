# Component Codegen CLI

## Overview
`component-codegen` is a CLI tool built using the Cobra library to scaffold boilerplate code for new components. It simplifies the onboarding process by generating necessary files and updating relevant configurations.

## Usage
A new component can be scaffolded by using a simple make command

```sh
make new-component COMPONENT=<component_name>
```

## Generated Files
Running the above command will generate the following files and update relevant configurations:

1. Component Type Definition
Creates a `component_types.go` file for the component in `apis/components/v1alpha1`.
2. Controller Files
A folder named after the component inside `controllers/components` containing:

   - component_controller_actions.go
   - component_controller.go
   - component_support.go
   - component.go

    These files are created under `controllers/components/<component-name>/`

1. API Updates
Adds an entry of the component in `apis/datasciencecluster/v1/datasciencecluster_types.go` within the spec section.

2. RBAC Configuration
Updates the file `components/datasciencecluster/kubebuilder_rbac.go` with necessary Kubebuilder RBAC markers.

3. Autogenerated Files Update
Runs all necessary commands to update autogenerated files.

Note:
 At the end of everything, please add an entry into the `main.go` as mentioned [here](../../docs/COMPONENT_INTEGRATION.md#update-maingo).
## Next Steps
After running the command, users only need to add specific logic as per their component's requirements to complete onboarding.
