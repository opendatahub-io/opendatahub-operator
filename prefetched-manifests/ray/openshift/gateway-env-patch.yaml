apiVersion: apps/v1
kind: Deployment
metadata:
  name: kuberay-operator
  namespace: system
spec:
  template:
    spec:
      containers:
      - name: kuberay-operator
        env:
        # Gateway API configuration for HTTPRoute placement
        # APPLICATION_NAMESPACE determines where HTTPRoutes are created (platform namespace)
        # Reuses the existing 'namespace' parameter from params.env
        - name: APPLICATION_NAMESPACE
          value: $(namespace)
        # POD_NAMESPACE provides fallback namespace detection
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
