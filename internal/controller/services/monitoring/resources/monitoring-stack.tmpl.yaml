apiVersion: monitoring.rhobs/v1alpha1
kind: MonitoringStack
metadata:
  name: data-science-monitoringstack
  namespace: {{.Namespace}}
spec:
  alertmanagerConfig:
    disabled: false
  logLevel: debug
  prometheusConfig:
    enableOtlpHttpReceiver: true
    persistentVolumeClaim:
      resources:
        requests:
          storage: {{.StorageSize}}
    replicas: {{.Replicas}}
    webTLSConfig:
      certificate:
        name: prometheus-operated-tls
        key: tls.crt
      privateKey:
        name: prometheus-operated-tls
        key: tls.key
      certificateAuthority:
        name: prometheus-web-tls-ca
        key: service-ca.crt
  resourceSelector: {}
  resources:
    limits:
      cpu: {{.CPULimit}}
      memory: {{.MemoryLimit}}
    requests:
      cpu: {{.CPURequest}}
      memory: {{.MemoryRequest}}
  retention: {{.StorageRetention}}
